---
layout: post
title: Funkcionális kirándulás
date: '2015-04-27T13:33:00.000-07:00'
author: Stryker
tags: 
modified_time: '2015-04-27T13:33:12.946-07:00'
thumbnail: https://i.ytimg.com/vi/A_sY2rjxq6M/default.jpg
---

Az elmúlt hónapban végre rávettem magam, hogy belevessem magam a funkcionális programozás világába.<br />Úgy mondhatnám, hogy még az út elején vagyok, mert 1 hónap nem túl sokra ha csak néhány nap tanulgatja az ember, de arra bőven elég, hogy beszámoljak az élményeimről.<br /><br />Persze jöhet a kérdés minek a tanulni funkcionális paradigmát, ha majdnem mindenhol objektum orientált paradigma a meghatározó. Erre a válasz pedig a fejlődés, ami programozás világában a legfontosabb tulajdonság. Eddigi tapasztalataim alapján 4 nagy mérföld kő van, amivel jó ha találkozik az ember fejlesztőként:<br /><br /><ol><li>Első Hello World program futtatása.</li><li>Valamilyen OOP nyelv elsajátítsa.</li><li>Nagyobb projekt fejlesztése vagy/és egy könyvtár megírása.</li><li>FP nyelv megtanulása.</li></ol><div>Belegondolva ezek a lépések számomra egymás következményei voltak. Ezt a 4. mérföldkövet azért tartom fontosnak, mert kirángat a megszokott közegből és rákényszerít, hogy új dolgokat tanuljak és a megszokott dolgokra is új szemmel nézzek.</div><br />Ezelőtt is voltak kísérleteim FP nyelv tanulásával, de valahogy mindig elbuktam vele vagy egyszerűen csak nem érdekelt tovább, de most rávettem magam hogy azért is belevettem magam.<br />A legfontosabb különbség a korábbi próbálkozásaimhoz képest, hogy most volt időm és egy jó könyvem a témában.<br /><br />Programozási nyelvnek Haskell-t választottam, mert az egyik legnépszerűbb tisztán funkcionális nyelv és nem is beszélve, hogy a nyelv 1990-ben jelent meg, ami azt jelenti, hogy nagyon érett és stabil. A nyelv egyik erőssége, hogy 20+ év alatt össze tudtak dobni egy 1-2 könyvet. :D<br /><br />Régebben próbálkoztam a Scala megtanulásával, ami egy hibrid nyelv, ami keresztezi az funkcionális és objektum orientált paradigmát, de ezzel az a gond, hogy FP megtanulása tekintetében egy rossz választás, mivel egy hibrid nyelv és nem kényszeríti ki a funkcionális paradigmát hiszen ott van az objektum orientált része. Nem is beszélve, hogy nem találtam hozzá jó tanuló anyagot.<br />Kipróbáltam az online Scala kurzust és a hivatalos Scala könyvet is, de egyszerűen túl unalmasak voltak és ezért hagytam is az egészet.<br /><br />A jó könyv, amit találtam pedig a&nbsp;<a href="http://learnyouahaskell.com/">Learn you Haskell for good</a>, amit már nagyon régóta végig akartam olvasni, de valahogy sosem értem rá, de mostanában végre sikerült végig olvasnom. A könyv nagyszerűsége az egyszerűsége és hogy mókás játékos módon közelíti meg a tanulás kérdését. Na és persze a legjobb benne, hogy online ingyenesen elolvasható.<br /><br />Haskell közösségben különlegességnek számít ez a könyv, mivel maga a kemény magja a közösségnek nagyon tudományos szemléletű, ami szerintem nagyon szembe tűnő más nyelvekkel szemben. Aki már olvasott posztokat r/haskell subredit-en az tudja, hogy miről beszélek. Ahelyett, hogy blog posztot írnának egy nyelvi érdekességről, helyette inkább egy tudományos papírt publikálnak pdf formában, amiben persze benne van a levezetés, ami megmutatja, hogy miért is működik ez az dolog.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://i.imgur.com/hF6mS.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://i.imgur.com/hF6mS.jpg" height="210" width="320" /></a></div><br /><br />Bennem a könyv olvasása közben 3 érzés tudatosult Haskellel szemben:<br /><br /><ol><li>Csodálatos, hogy milyen szép és rövid megoldásai lehetnek egy adott problémának.</li><li>Értem a dolgot, de akkor is elég furán működik</li><li>Nem igaz, hogy 3 sor kódot nem tudok megérteni vagy 2 napja</li></ol><div>A könyv első fele elég gyorsan elment, mivel azokat már elég jól ismertem, habár még így is meggyűlt a gondom Haskell típus rendszerének megértésével. A neheze csak ezek után jött, ami nem volt más mint a funktor-ok megértése. Azért nehéz, mert igazából ez az első alkalom, amikor az olvasót megcsapja úgy igazán a matematika szele és nem valami kellemes érzés. :D<br /><br />A könyvnek nagyon jó a félépítése, mert az alapoktól indul és mindig egymásra épülve adagolja az új tudást. Közben arra is figyel, hogy megértsük, hogy miért kellet a nyelvbe az a bizonyos nyelvi elem. Egy nyelv megértésénél nagyon fontos, hogy megértsük, hogy miért van benne az, ami benne van, mert ellenkező esetben akár rosszul is használhatjuk azt a bizonyos nyelvi elemet. Ennek ellenére is biztos, hogy &nbsp;fog nehéz pillanatokat átélni az olvasó, mert ez még is csak egy teljesen más paradigma.<br /><br />Funkcionális paradigmát azért hívják így, mert benne minden egy funkciónak tekinthető, ahogy egy objektum orientált nyelvben pedig minden egy objektumnak tekinthető. Ez akkor eset le nekem amikor láttam, hogy az összeadás is csak egy funkció. Összeadás olyan funkció, aminek 2 bemenete van és a kimenete a két összeadott bementi érték.<br /><br />Szerintem mégis a legfontosabb fogalom, amit meg kell érteni az a rekurzív funkció fogalma és annak működése.<br />Azért fontos, mert a nyelveben nincs alapból for vagy while ciklus, hanem helyette rekurzív függvényekkel lehet ezeket megvalósítani és ezért nem is fontos, hogy benne legyenek. Már ebből is látszik, hogy máshogy kell funkcionális nyelvekhez viszonyulni.<br />Rekurzív függvényeknek a lényege, hogy az adott problémát felbontsunk alap és rekurzív esettre. Ha megértjük azt, hogy hogyan kell ezt csinálni, akkor gyakorlatilag már tudjuk is, hogy mi az a rekurzív funkció.<br /><br />Másik nagyon fontos dolog pedig, hogy a nyelvben minden egy kifejezés vagyis vissza kell valami adnia. Ez elég érdekes lehet, mivel objektum orientált nyelvekben utasításokat is találhatunk, amiknek nem kell visszaadni semmit és általában &nbsp;inkább beállítanak valamilyen értéket. Ez azt is jelenti, hogy Haskell-ben nincs void függvény, vagyis olyan függvény, amit semmit sem ad vissza.<br />Másik következménye, hogy Haskell-ben nehezebb nagy függvényeket írni, mivel nincsenek utasítások és mindenek vissza kell valami értéket adnia.<br />Ebből következik a következő érdekesség is egyben.<br /><br />Haskell utolsó általam emlitett érdekessége, hogy meglévő változó értékét nem lehet módosítani vagyis a változók módosíthatatlanok alapból. A változó módosítását ezért csak úgy lehet megoldani, hogy egy új változót kreálunk a régi alapján. Ez a módszer nem új keletű, mivel objektum orientált nyelvek nagy részében ugyanígy működik a String objektum.<br />Azért elsőre kicsit fura lehet, hogy a kocsi színének a megváltoztatását nem festéssel, hanem egy új autó elkészítésével érjük el.<br /><br />Elég furcsának tűnhet, hogy módosítás helyett mindenből újat csinálunk, de ennek van egy nagyon jó tulajdonsága, ami a side effect mentesség. A side effect nem más, mint amikor egy globális változónak az értéke hatással van egy általunk megírt metódusra. Emiatt fordulhat elő, hogy két azonos metódus hívás különböző eredményt add vissza ha globális változóra támaszkodik. Haskell-nek pontosan az egyik célja, hogy ilyen ne fordulhasson elő és minden azonos metódus hívás azonos eredményt adjon vissza és ne legyenek benne meglepetések a programozó számára.<br /><br />Ezekből is látszik, hogy Haskell kikényszeríti a programozóból, hogy a problémákat felbontsa kisebb megvalósítható részekre, függvényeket egyszerűre készítse és &nbsp;hogy ezek &nbsp;a megírt függvények kiszámíthatóan viselkedjenek. Ha az olvasó is ráveti magát Haskell tanulásra, akkor észreveheti, hogy a nyelv megváltoztatja azt is, hogy más nyelvekben hogyan programozunk. Az már biztos, hogy az ember ezek után már jobban oda figyel arra, hogy kerülje a side effect-et és lehetőleg egyszerű metódusokat írjon, amiknek csak egyetlen egy feladatuk van.<br /><br />Funkcionális programozás ugyan azt kényszeríti ki, mint a TDD(Teszt vezérelt fejlesztés), vagyis hogy jobb és egyszerűbben tesztelhető kódot írjunk. Ezért bárkinek csak ajánlani tudom, hogy vesse bele magát bármelyik funkcionális nyelv megtanulásába, mivel segít egy jobb és szebb kód megírásában.<br /><br />Bevallom őszintén elég nehéz volt megírnom ezt a bejegyzést, mert annyi mindenről lehetne mesélni még így is, hogy alig foglalkoztam Haskellel, de mégis a bejegyzés megírása után kétes érzéseim keletkeztek a nyelvvel kapcsolatban.<br /><br />Egyfelől a nagyon sokat tanultam magáról a programozásról a nyelv tanulása közben és csodálom, hogy milyen röviden és elegánsan megoldásokat lehet a nyelvvel készíteni.<br />Viszont a kétely is feléledt bennem, hogy menyire használnám a nyelvet tényleges valós problémák megoldására vagy egyáltalán menyire lehetséges ez egyáltalán. Ami olyan nagyszerűvé teszi a nyelvet az annyira ellene is játszik elterjedése szempontjából.<br /><br />Számomra Haskell olyan mint a vim. Nagyon sok időt és gyakorlást kell belefektetni, hogy igazán produktív legyen vele az ember, de akik átélték ezt a tűz keresztséget azok mondák, hogy megérte.<br />Én személy szerint még olyan nyelveket fogok előnybe részesíteni, ami alapból OOP, de már megjelenek bennük a funkcionális paradigmák.(Dart, Java8)<br />Habár úgy nézz ki, hogy gőz erővel tartunk a hibrid nyelvek világába, szóval nem lesz nehéz dolgom ilyen nyelveket találnom és használnom.<br /><br /><b>Meglepetésként pedig jöjjön egy pokoli jó szám:</b></div><iframe allowfullscreen="" frameborder="0" height="315" src="https://www.youtube.com/embed/A_sY2rjxq6M" width="420"></iframe>