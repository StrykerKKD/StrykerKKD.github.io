---
layout: post
title: Mi a vektor Viktor?
date: '2014-11-09T06:55:00.001-08:00'
author: Stryker
tags: 
modified_time: '2014-11-09T06:55:44.623-08:00'
thumbnail: http://3.bp.blogspot.com/-z31_sU4TDEU/VFAYBdKCaAI/AAAAAAAAAFQ/5m453OyBaV0/s72-c/DirectionVector%2B(2).png
---

&nbsp; Újabb hosszú idő után eljött az idő, hogy újabb "tanulságos" blog bejegyzést írjak játék fejlesztés téma körében. Ahogy talán a címből kiderül vektorokról fogok mesélni, hogy micsoda és hogy mire lehet használni őket.<br />&nbsp; Gondolom hozzám hasonlóan sokan vannak úgy, hogy amit az ember az iskola alatt tanul annak a nagy részét soha nem fogja tudni használni. Ez alól kivétel a vektor, &nbsp;ha az ember játékfejlesztéssel foglalkozik. Játékfejlesztés egyik szépsége, hogy nagyon sok mindenre megtanít és megmutatja, hogy mire lehet a megtanult dolgokat használni.<br /><br /><b>Mi a vektor?</b><br />&nbsp; Elég a szócséplésből és inkább térjünk rá a lényegre. A vektort gyakorlatilag 2 dolog alkotja: irány és mennyiség. Vektort gyakorlatban nyíllal szoktuk jelölni, ami egy kezdőpontból egy végpontba mutat és a menyisége pedig a nyílnak a hossza.<br /><br /><b>Na de mire jó ez a mi esetünkben?</b><br />&nbsp; A játékok általánosságban akkor izgalmasak, hogyha mozognak benne a dolgok és ahogy fizikából megtanultuk, ahol mozgás van ott vektornak is kell lennie. Tehát a vektorok tökéletesek mozgások leírására.<br /><br /><b>Hogyan programozzuk ezt le?</b><br />&nbsp; Legegyszerűbb dolgunk a a mennyiséggel van mivel ez egy egyszerű szám, amit el kell tárolnunk.<br />Mozgás esetében a mennyiség lehet például a sebesség.<br />Irány sem sokkal nehezebb, mivel ehhez érdemes egy egyszerű irány vektort használni, aminek a hossza 1 és a kezdő pontja a koordináta rendszer origója vagyis (0,0), ami miatt csak a végpont koordinátáit(x,y) kell eltárolnunk.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-z31_sU4TDEU/VFAYBdKCaAI/AAAAAAAAAFQ/5m453OyBaV0/s1600/DirectionVector%2B(2).png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-z31_sU4TDEU/VFAYBdKCaAI/AAAAAAAAAFQ/5m453OyBaV0/s1600/DirectionVector%2B(2).png" height="320" width="311" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><b>Irány vektor</b></div><div class="separator" style="clear: both; text-align: left;"><br /></div><br /><b>WTF vektor a vektorban?</b><br />&nbsp; Tudom tudom, de így lehet a legegyszerűbben elmagyarázni, hogy hogyan is kell irányt megadni.<br />Gyakorlatilag ez nem más mint egy iránytű, ami megmutatja, hogy egy adott játék elem milyen irányba mozog.<br /><br /><b>Aha, de hogy használom őket együtt?</b><br />&nbsp; Mozgások esetében a mennyiség a sebesség lesz és az irány pedig a test mozgási iránya. Ebben az esetben csak annyi a dolgunk, hogy összeszorozzuk őket. Így pedig megkapjuk a vektort, ami gyakorlatilag elmondja, hogy a test milyen sebsebéggel mozog x és y irányban.<br /><br /><b>Triviális esetek:</b><br />Sebsebég: 300<br />Felfelé alkarunk haladni, akkor irányvektor: (x:0,y:1). Ezeket összeszorozva(x:0*300,y:1*300), ezt a vektort kapjuk: (x:0,y:300)<br />Gondolom innen már sejhető, hogy lefelé a vektor: (x:0,y:-300), balra a vektor: (x:-300,y:0) és jobbra a vektor: (x:300,y:0).<br /><br /><b>Nem triviális esetek:</b><br />&nbsp; Szerintem az átlós mozgások nem triviálisak, mivel több fajta módon is be lehet állítani az irány vektort:<br />1. Kiszámoljuk az irányvektor végpontját az x tengely és az irányvektor közötti szög alapján. Például: cos(30) = 0.866, sin(30) = 0.5, tehát az irány vektor: (x:0.866,y:0.5)<br />2. Elforgatunk egy adott irányvektor, hogy az átlósan álljon.<br />3. Összeadunk két merőleges vektort és a keletkező vektort lezsugorítjuk, hogy a hossza 1 legyen.<br /><br /><b>Összegezve:</b><br />&nbsp; Lényegében a vektorok a játékfejlesztésben tökéletesek a mozgások leírására és ezért alapvető elemei egy fizikai motornak. Vektorok egyszerűek mivel csak menyiségből és irányból állnak. Használatuk is igen egyszerű, mivel minden nyelven találhatunk vektor könyvtárakat.<br />&nbsp; Nekem szerencsém volt mivel StageXL-ben van egy vektor osztály, amivel megtudtam valósítani a vektor irány részét és így már csak a mennyiség része maradt, ami meg triviális feladat.<br /><br /><b>Kiegészítés:</b><br /><b>&nbsp;&nbsp;</b>Mozgások esetében a sebességet is ábrázolhatjuk vektorral ha a sebességet felbontjuk horizontális és vertikális sebességre. Azért jó, mert ebben az esetben is két értéket kell eltárolni, mint az irányvektor esetében. Nem is beszélve a tényleges vektor megadásához csak össze kell szoroznunk a sebesség - és irány vektort.(Ami vektorok esetében egyszerű dolog)<br /><br /><b>Egy kis példa:</b><br />&nbsp; DartRocket esetében vektorokat használtam a mozgási és irányrendszerek megoldásához.<br /><a href="https://github.com/StrykerKKD/dartrocket/blob/master/lib/src/physics/directionsystem.dart">DirectionSystem</a>: Irányokkal való munkát segíti és definiál néhány triviális irányt.<br /><a href="https://github.com/StrykerKKD/dartrocket/blob/master/lib/src/physics/movementsystem.dart">MovementSystem</a>: Mozgások leírását és velük való munkát segíti.&nbsp;<br /><br /><b>Bónusz:&nbsp;</b><br /><iframe allowfullscreen="" frameborder="0" height="315" src="//www.youtube.com/embed/Xt_1HDvmkeY" width="420"></iframe>